## NetWork Study 파트1 진행 목차
1. 대칭키 & 공개키
2. HTTP와 HTTPS
3. HTTP 요청/응답 헤더
4. HTTP와 HTTPS 동작 과정
5. TLS/SSL handshake

## 정보 보안(열람, 유출, 변조, 파괴로부터 정보를 보호하는 것)의 주요 요소
- 기밀성(confidentaility) : 허가된 사용자만 접근이 가능토록 하는 것 -> 스니핑, 유출에 의해 침해됨.->암호화, 접근통제와 연관.
- 무결성(Integrity): 송수신 도중 데이터의 변조가 이뤄지지 않은 것을 확인하는 것.-> 스푸핑과 변조에 침해받음-> 무결성기법(MAC와 해쉬함수)등 적용
- 가용성(Availability): 기밀성과 무결성을 보장하면서 허용된 사람들이 지체없이 데이터를 이용 할 수 있도록 하는 것-> DDOS,장애에 의한 침해-> 백업과 이중화로 보완.
- 위의 3요소를 CIA라고 부른다..
- 이외에도 책임추적성(식별, 인증, 권한부여, 접근통제, 감사)
- 접근통제(통신 시스템과 관련된 허가되지 않은 동작들을 위협으로부터 자원을 보호), 블랙리스트 ,화이트리스트 존재
- 인증 (자신의 신분과 행위를 증명하는 것으로 자신이 누구라고 주장하는 사람을 확인하는 절차)
- 부인방지 (정보 송신받고도 이 사실을 부인하는 케이스를 방지하기 위해)~ 전자서명이 사용됨.

---

## 대칭키와 공개키 
<img src="https://velog.velcdn.com/images/octo__/post/09810353-a7c0-4d9a-b02a-2986d568b872/image.png">

- 대칭키란?
- 평문을 암호화함에 있어서, 암호문을 복호화하는데 있어서 사용되는 key의 값이 동일한 구조(대칭적)를 가리키는 방식.
- key란? 잠긴 문을 열기위해서 열쇠가 필요하듯 특정 문장이나 수치 등을 키를 가진 사람들만 접근 가능하도록 하기 위해 사용되는 접근법.
- 장단점 : 구현이 용이하고 공개키 방식에 비해 암복호화에 걸리는 시간이 빠르지만(대용량 암호화에 적합!) 키를 사전에 배송해야하는 키배송 문제와 중간자공격에 취약한 단점을 보인다.(특히 열람 가능한 인원이 증가할 수록 관리가 어렵다.)
- 위의 단점을 해결하기위해 제 3의 신뢰할 수 있는 기관에 키를 맡기는 방식이나 사전공유 또는 디피헬만 방식에 의한 해결이 존재함.
- 기밀성을 제공한다.
- 대칭키의 종류로는 : DES, AES , SEED, ARIA 등이 존재한다.

---

<img src="https://velog.velcdn.com/images/octo__/post/f564a411-c5b8-461d-9427-6f16acc3bec9/image.png">

- 그렇다면 공개키는 무엇인가?
- 비대칭키/공개키는 암호화할 때와 복호화할 때의 키를 서로 다른 키로 사용하는 암호화 방법이다.
- 공개키로 암호화해서 보내고 수신자는 개인키로 복호화해서 보면됨.
- 외부에 절대 노출되어서는 안되는 개인키(Private Key)와 공개적으로 개방되어 있는 공개키(Public Key)가 쌍으로 이루어진 형태이다.
- 기밀성, 무결성 지원, 부인방지 제공
- 키의 길이가 길다.
- 연산속도 느림.
- RSA, 디피-헬만, 전자서명, ECC등이 존재
- 데이터 보안관점에서 클라이언트의 데이터를 탈취당하더라도 데이터를 볼 수 없음.(안전하다)
- 인증 관점에서도 서버의 공개키를 CA를 통해 얻음으로써 신뢰할 수 있는 단체임을 증빙가능.

## 구글의 비대칭키 활용
<img src="https://docs.google.com/drawings/d/e/2PACX-1vTAKQbYx9D55bh8-xdTFtiWRFZkN44w0FRDgxyf8mnf0C_2D3tgCQWOfKnXAvBx1XlSg6i2_vD5wHx6/pub?w=842&h=459">
- https://www.joinc.co.kr/w/man/12/oAuth2/Google
- 읽어보면 좋음.

## HTTP 와 HTTPS

- hyper text transfer protocol : http의 풀네임. s-c 모델을 따라 데이터 주고받기 위한 프로토콜이다( HyperText를 전송하기 위한 통신 규약).
- 80번 포트를 기본포트로 사용. 보안적인 요소가 없음.
- http+secure = https이다. 위의 보안적 이슈를 해결하기위해 보안 소켓 계층 레이어 SSL을 이용해 문제를 해결함. 443 포트번호사용 
- SSL인증서란? -> 인증서는 사용자가 사이트에 제공하는 정보를 암호화로 바꿔서 데이터로 전송한다고 생각하면 쉽다
- 암호화되서 데이터베이스에 저장이 되기 때문에 실제로 해킹을 당하더라도 데이터가 암호화되어있기 때문에 해독할 수 없습니다.
- stateless이다.

## http 요청 응답 .

- HTTP 메시지는 서버와 클라이언트 간에 데이터가 교환되는 방식을 말한다. ASCII로 인코딩된 텍스트 정보이며 여러 줄로 되어 있다.
- 요청(request)과 응답(response) 두 가지 타입이 존재하며, 각각 특정한 포맷을 가지고 있다.
- 단순한 메시지 구조를 이루고 있고, 확장성이 좋다는 특징이 있다.

<img src="https://user-images.githubusercontent.com/49539592/135721043-123ddb7e-507d-4b43-8bdc-e91679e64621.png">

- 시작 줄(start-line): HTTP 요청 / 또는 요청에 대한 성공 또는 실패가 기록된다. 항상 한 줄로 끝난다.
- HTTP 헤더: 시작 줄 다음으로 요청에 대한 설명 / 또는 메시지 본문에 대한 설명이 들어간다.
- 빈 줄: 요청에 대한 모든 메타 정보가 전송되었음을 알리는 빈 줄이 삽입된다. (헤드와 본문 사이)
- 본문(optional): 요청과 관련된 데이터(HTML form 콘텐츠 등) / 또는 응답과 관련된 문서(document)가 선택적으로 들어간다. 본문의 존재와 크기는 시작 줄 및 HTTP 헤더에 명시된다.
- HTTP 메시지의 시작 줄과 HTTP 헤더를 묶어서 요청 헤드(head) 라고 부르며, 이와 반대로 HTTP 메시지의 페이로드는 본문(body) 이라고 한다.

- 요청은 클라이언트->서버로 향하는 msg이며 서버측의 응답을 요구한다.

  <img src="https://user-images.githubusercontent.com/49539592/135721729-ada35ee3-0d72-4b6d-a846-49338737c89e.png">

- 시작줄: http Method + URL+ HTTP version

// 여기까지 작성함...

http의 동작과정
1. 클라이언트가 서버에 요청을 보낸다.
2. 서버는 요청 처리후 응답을 전송
3. 클라이언트는 받은 응답을 화면에 표시
https의 동작과정
1. 요청을 보낼때 SSL/TLS를 통해 암호화
2. 서버는 암호화된 요청 처리후 응답을 SSL/TLS를 사용해 암호화 후 응답
3. 클라이언트는 복호화 후 화면에 표기 


# SSL/TLS란?
SSL(Secure Socket Layer) 및 TLS(Transport Layer Security)는 웹 사이트와 사용자 간의 통신을 암호화하여 데이터의 기밀성과 무결성을 보호하는 보안 프로토콜입니다. SSL은 1990년대에 처음 개발되었고, 이후 TLS로 대체되어 현재 버전은 TLS 1.3입니다.

<img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FmxxWL%2Fbtr4G8e91e8%2FkHKUzlvKO4Vkw3wAjyyOo0%2Fimg.png">

SSL/TLS는 공개 키 기반의 암호화 기술을 사용하여 웹 서버와 클라이언트 간의 안전한 연결을 구축합니다. 과정은 다음과 같습니다.

1. 클라이언트가 서버에 연결 요청을 보냅니다.
2. 서버는 공개 키와 인증서를 제공합니다.
3. 클라이언트는 인증서의 유효성을 검사하고, 공개 키를 사용하여 대칭키를 암호화하여 서버에 전송합니다.
4. 서버는 개인 키를 사용하여 대칭키를 복호화하고, 이제 서버와 클라이언트는 대칭키를 사용하여 통신을 암호화합니다.

인증서
- SSL/TLS 인증서는 웹 서버의 신원을 확인하고, 공개 키 암호화를 사용하여 안전한 연결을 제공하는 디지털 문서입니다. 인증서는 신뢰할 수 있는 인증 기관(CA)에 의해 발급되며, 웹 사이트 소유자의 정보와 공개 키를 포함합니다.

SSL/TLS가 보장하는 것.(CIA)
기밀성: 사용자의 정보와 통신이 제3자에게 노출되지 않도록 암호화합니다.
무결성: 데이터가 전송 중에 변경되거나 손상되지 않음을 보장합니다.
인증: 웹 사이트의 신원을 확인하여 사용자가 안전한 웹 사이트에 연결되고 있다는 확신을 줍니다.
